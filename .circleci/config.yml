version: 2.1
orbs:
  docker: circleci/docker@1.2.1
jobs:
  
  klient:
    executor:
      name: docker/docker
    docker:
      - image: circleci/node:10.16.3
    steps:
      - checkout
      - run: 
        working_directory: client
      - npm install
      - npm test
  serwer:
    executor:
      name: docker/docker
    docker:
      - image: circleci/node:10.16.3
    steps:
      - checkout
      - run:
        working_directory: server
      - npm install
      - npm test


workflows:
    test:
      jobs:
        - klient
        - serwer